@use "./base.scss";
@use "./themes";
@use "./variables.scss" as *;

$page-title-font-size: 2.5rem;
$page-title-line-height: 1.2;
$sidebar-gap-desktop: 1.2rem;

// put your custom CSS here!

// Override fonts to use LXGW WenKai GB Screen as primary font - Target specific selectors
body,
div#quartz-root.page,
div#quartz-root.page body,
body p,
body a,
body a.internal,
body a.external,
body div:not(.highlight):not(pre),
body li,
body ul,
body ol,
.explorer,
.explorer *:not(code):not(pre):not(kbd):not(samp),
.content,
.content p,
.content a,
.content div:not(.highlight):not(pre),
.content li {
  font-family: "LXGW WenKai GB Screen", "Noto Sans SC", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif !important;
  font-size: 1.08rem;
  line-height: 1.7;
}

h1,
h2,
h3,
h4,
h5,
h6 {
  font-family: "LXGW WenKai GB Screen", "Noto Sans SC", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif !important;
}

// Fix: Links inside headings should inherit heading font size and line height
h1 a,
h2 a,
h3 a,
h4 a,
h5 a,
h6 a {
  font-size: inherit !important;
  line-height: inherit !important;
}

// Use Fira Code for all code-related elements - Ultra strong overrides
* code,
* pre,
* kbd,
* samp,
html code,
html pre,
html kbd,
html samp,
body code,
body pre,
body kbd,
body samp,
:root code,
:root pre,
:root kbd,
:root samp,
:root body code,
:root body pre,
:root body kbd,
:root body samp,
.highlight code,
.highlight pre,
pre > code,
pre:has(> code),
:root pre > code,
:root pre:has(> code),
article code,
article pre,
.popover-hint code,
.popover-hint pre,
div code,
div pre,
p code,
p pre,
code[data-theme*=" "],
pre code[data-theme*=" "] {
  font-family: "Fira Code", "JetBrains Mono", "Monaco", "Menlo", "Consolas", monospace !important;
}

// Cursor pointer for interactive elements
.edit-btn,
.explorer button,
.explorer summary,
.explorer .folder-outer > .folder-title,
.explorer .file-list li,
.explorer-ul li,
.explorer-ul li a,
.explorer .folder-button,
.explorer .folder-title {
  cursor: pointer !important;
}

// Position icons next to Explorer button (desktop only)
@media all and not ($mobile) {
  .sidebar.left {
    display: flex !important;
    flex-direction: column !important;

    & > .flex-component {
      position: absolute !important;
      right: 0 !important;
      top: $topSpacing + ($page-title-font-size * $page-title-line-height) + $sidebar-gap-desktop;
      display: flex !important;
      justify-content: flex-end !important;
      pointer-events: none !important;
      z-index: 100 !important;

      & > * {
        pointer-events: auto !important;
      }
    }

    & > .explorer {
      position: relative !important;
      z-index: 5 !important;

      & > button {
        padding-right: 8rem !important;
        z-index: 15 !important;
        position: relative !important;
      }

      & > .explorer-content {
        z-index: 1 !important;
        position: relative !important;
      }
    }
  }
}

// Align flex container items
.flex-component {
  align-items: center !important;

  & > div {
    display: flex !important;
    align-items: center !important;
  }
}

// Remove search button border and padding to align with other icons
.search > .search-button {
  background-color: transparent !important;
  box-shadow: none !important;
  border: none !important;
  border-radius: 0 !important;
  padding: 0 !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;

  svg {
    margin: 0 !important;
    display: block !important;
  }
}

// Increase PageTitle (BYHEAVEN) font size
.page-title {
  font-size: $page-title-font-size !important;
  line-height: $page-title-line-height;
  font-weight: 600 !important;
}

.page-title > a {
  font-size: inherit !important;
  line-height: inherit;
}

// Adjust Edit page and View history links
a.edit-btn {
  font-size: 0.85rem !important;
  opacity: 0.6 !important;

  &:hover {
    opacity: 0.8 !important;
  }
}

// Ensure article content area has minimum height to push comments down
// Only apply to content pages, not list pages
.center:not(:has(.page-listing)) article {
  min-height: 100vh !important;
}

// Add spacing before comment section
.giscus,
.waline {
  margin-top: 4rem !important;
}

// Reduce font size for footer and comment system credits
footer,
footer *,
.wl-power,
.wl-power *,
.waline .wl-power,
.giscus-frame {
  font-size: 0.75rem !important;
}
